(function(){CKEDITOR.plugins.add("gpautogrow",{init:function(e){for(var i in{contentDom:1,key:1,selectionChange:1,insertElement:1,mode:1})e.on(i,function(f){var h=e.getCommand("maximize");h&&h.state==CKEDITOR.TRISTATE_ON||(f.editor.mode=="source"&&window.setTimeout(function(){var b=f.editor,a=b.textarea.$,d=b.config.autoGrow_minHeight||20,c=b.config.autoGrow_maxHeight||1E4,e=!($.browser.msie||$.browser.opera),b=a.value.length,g=a.offsetWidth;if(b!=a.valLength||g!=a.boxWidth){if(e&&(b<a.valLength||
g!=a.boxWidth))a.style.height="0px";d=Math.max(d,Math.min(a.scrollHeight,c));c=$(a).height();if(d!=c)a.style.overflow=a.scrollHeight>d?"auto":"hidden",a.style.height=d+"px",a.valLength=b,a.boxWidth=g,$(a).closest(".cke_contents").height(d)}},100),f.editor.mode=="wysiwyg"&&window.setTimeout(function(){var b=f.editor,a=b.document,d=b.window.getViewPaneSize().height;b.window.getViewPaneSize();var c;c=$(a.$.body).outerHeight(!0);$(a.$).width();c=Math.max(c,b.config.autoGrow_minHeight||200);if(c!=d)b.window.$.scrollTo(0,
0),c=b.fire("autoGrow",{currentHeight:d,newHeight:c}).newHeight,b.resize(b.container.getStyle("width"),c,!0)},100))})}})})();